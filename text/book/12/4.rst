کاربرد ها
==============

گراف جهت دار و دوبخشی
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

در این بخش می بینیم که دو مفهوم گراف دوبخشی و جهت دار قابل تبدیل به یکدیگر هستند و بسته به اینکه کدام یک شهود بهتری برای حل مسئله به ما می دهند می توانیم از یکی از آن دو استفاده کنیم.

ماتریس مجاورت یک گراف دوبخشی و جهت دار را در نظر بگیرید. هر دو ماتریسی :math:`n*n` هستند که در خانه ها 0,1 قرار دارد. (لزوما ماتریس متقارن نیست)

حالا برای تبدیل گراف جهت دار به دوبخشی کافیست ماتریس مجاورت گراف جهت دار که آن را :math:`M` می نامیم در نظر بگیرید و گراف دو بخشی رسم کنید که ماتریس مجاورت آن :math:`M` باشد. تبدیل گراف دوبخشی به جهت دار نیز مشابه است. اگر بخواهیم شهودی تر به مطلب نگاه کنیم هر یال :math:`ab` در گراف جهت دار معادل یک یال بین راس :math:`a` از بخش سمت چپ و راس :math:`b` از بخش سمت راست است. یعنی بخش سمت چپ نماینده خروجی ها و بخش سمت راست نماینده ورودی ها است.

حالا یک تطابق در گرافی دوبخشی را در نظر بگیرید. اگر گراف دوبخشی را به گراف جهت دار تبدیل کنیم تطابق ما به چه چیزی تبدیل خواهد شد؟ 

تعدادی دور و مسیر جهت دار! زیرا که در گراف دوبخشی از هر راس حداکثر یک یال مجاور انتخاب شده است این موضوع در گراف جهت دار به این معنی است که هر راس حداکثر یک ورودی و حداکثر یک خروجی دارد.


افراز dag به مسیر ها
~~~~~~~~~~~~~~~~~~~~~~

یک گراف جهت دار بدون دور داریم. مینیمم :math:`x` که می توان این گراف را به :math:`x` مسیر جهت دار افراز کرد چند است؟

توجه کنید که اگر در این افراز بهینه تعداد یال های مسیر ها :math:`y` باشد آنگاه :math:`x+y=n` پس برای مینیمم کردن :math:`x` کافی است :math:`y` را ماکسیمم کنیم. گراف جهت دار را به دوبخشی تبدیل کنید. حالا :math:`y` برابر است با ماکسیمم تطابق این گراف دوبخشی.‌ (چرا؟)

افراز گراف جهت دار به دور ها
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

فرض کنید در یک گراف جهت دار می خواهیم یک روش برای افراز کردن این گراف به دور ها پیدا کنیم.

ابتدا گراف را به فرم دوبخشی در بیاورید. گفتیم یک تطابق به معنای افراز به دور ها و مسیر ها است. می توانید به راحتی نتیجه گیری کنید که یک تطابق کامل به ما یک افراز به دور ها را ارائه می دهد. پس کافیست یک تطابق کامل در گراف دوبخشی پیدا کنیم.

گراف 2k منتظم و افراز به دور ها
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

این بار موضوع بحث ما گرافی بی جهت است. مشابه مسئله بالا تصور کنید گرافی **بی جهت** مثل :math:`G` داریم و می دانیم :math:`2k` منتظم است. می خواهیم **اثبات کنیم** یک روش برای افراز این گراف به دور ها وجود دارد.

اولین ایده این است که به ازای هر یال :math:`G` مثل :math:`ab` در یک گراف جهت دار دو یال :math:`ab, ba` را قرار دهیم. سپس مشابه مسئله بالا ابتدا گراف جهت دار را به فرم دوبخشی در بیاوریم و سپس تلاش کنیم تطابقی کامل پیدا کنیم.

مشکلی که در این راه به وجود می آید این است که در این افراز ممکن است دور هایی به طول 2 (که همان تک یال می باشند) به وجود بیاید که این موضوع برای ما مطلوب نیست.

برای اینکه این مشکل به وجود نیاید تور اویلری گراف را در نظر بگیرید و هر یال را در جهتی که تور اویلری آن را می پیماید جهت دار کنید. (اگر گراف چندین مولفه همبندی داشت این کار را برای هر کدام از مولفه ها انجام می دهیم).
حالا گراف حاصل گرافی جهت دار است که در هر راس آن درجه ورودی و خروجی برابر با :math:`k` می باشد. حالا اگر این گراف را به فرم دوبخشی در بیاوریم هر راس آن درجه :math:`k` خواهد داشت. 

طبق قضیه ای که قبلا ثابت کردیم گراف دوبخشی :math:`k` منتظم تطابق کامل دارد پس در این گراف جهت دار هم روشی برای افراز به دور ها وجود دارد.
 

دنباله درجه ای تورنومنت و تطابق
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

فرض کنید دنباله :math:`d_1,d_2,...d_n` داده شده است و می دانیم :math:`\sum\limits_{i=1}^{n} d_i = {n \choose 2}`.می خواهیم بررسی کنید آیا تورنومنتی وجود دارد درجه خروجی هر راس مثل :math:`u` برابر با :math:`d_u` باشد؟

گرافی دوبخشی بسازید. بخش سمت راست :math:`n` راس دارد و سمت چپ :math:`n \choose 2` راس دارد و هر کدام از راس های بخش سمت چپ به نشانه یک یال از تورنومنت می باشد. راسی که به نشانه یال :math:`ab` است را به راس :math:`a` و راس :math:`b` از بخش سمت راست متصل کنید. حالا یک زیرمجموعه از یال ها انتخاب کنید که درجه هر راس سمت چپ برابر با 1 و درجه راس :math:`u` از بخش سمت راست برابر با :math:`d_u` باشد. (شبیه تطابقی که در هال چندگانه بررسی کردیم).

به طور شهودی این هر راس سمت چپ مثل راسی که به نشانه :math:`ab` است باید یکی از دو راس :math:`a` یا :math:`b` را انتخاب کند. اگر :math:`a` را انتخاب کند یعنی قرار است در تورنومنت یال بین راس :math:`a,b` از :math:`a` به :math:`b` جهت دار شده باشد و بالعکس. همچنین قرار است درجه خروجی راس :math:`u` در تورنومنت برابر با :math:`d_u` باشد پس هر راس :math:`u` از بخش سمت چپ باید توسط دقیقا :math:`d_u` راس از بخش سمت چپ انتخاب شده باشد!

پس طبق مطالبی که در بخش هال چندگانه بررسی کردیم شرط لازم و کافی برای وجود داشتن چنین تورنومنتی این است که به ازای هر زیرمجموعه از راس های سمت چپ مثل :math:`S` اگر اجتماع مجاور های آن در بخش سمت راست :math:`P` باشد آنگاه :
:math:`|S| \leq \sum\limits_{u \in P} d_u`
از آنجایی که می توانیم بدون تغییر دادن سمت راست نامساوی، سمت چپ را تا :math:`|P| \choose 2` زیاد کنیم (چرا؟) پس می توانیم شرط را به این صورت نیز بنویسیم :

:math:`\forall_{P \subseteq \{1,2,...,n\}} {|P| \choose 2} \leq \sum\limits_{u \in P} d_u`

حالا از آنجایی که در سمت چپ نامساوی تنها تعداد اعضای مجموعه مهم است نه خود مجموعه پس کافیست شرط را به ازای کمترین :math:`d_u` ها بررسی کنیم. به عبارتی با فرض :math:`d_1 \leq d_2 \leq ... d_n` شرط زیر لازم و کافی می باشد :

:math:`\forall_{1 \leq k \leq n} {k \choose 2} \leq \sum\limits_{i=1}^{k} d_i`

راس های ثابت در تطابق دو بخشی
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

یک گراف دوبخشی داریم. به ازای تطابق :math:`M` هر راس :math:`u` که مجاور یکی از یال های :math:`M` باشد را حاضر در :math:`M` می گوییم. حالا شما باید به ازای تمام راس ها مثل :math:`u` بگویید آیا تطابقی ماکسیممی وجود دارد که :math:`u` در این تطابق حاضر **نباشد**؟ 

ابتدا یک تطابق ماکسیمم دلخواه مثل :math:`M` را در نظر بگیرید. حالا به ازای تمام راس هایی که در :math:`M` حاضر نیستند جواب را می دانیم. و می خواهیم به ازای هر راس حاضر در :math:`M` مثل :math:`u` جواب را بیابیم. فرض کنید تطابق ماکسیممی مثل :math:`M^{\prime}` وجود دارد که :math:`u` در آن حاضر نیست. حالا فرض کنید تفاضل متقارن :math:`M` و :math:`M^{\prime}` برابر با :math:`H` باشد. در اینصورت :math:`H` باید شامل تعدادی دور و مسیر زوج باشد همچنین :math:`u` باید ابتدای یکی از این مسیر های زوج باشد(چرا؟)!  

پس نتیجه می گیریم به ازای هر راس :math:`u` که عضو تطابق :math:`M` هست می توانیم تطابقی پیدا کنیم که :math:`u` در آن حاضر نباشد اگر و فقط اگر مسیری متناوب با شروع از :math:`u` وجود داشته باشد.

تا اینجای کار از دوبخشی بودن گراف استفاده ای نکردیم (تمام حکم هایی که بیان شد برای هر گرافی صدق می کند). اما حالا برای پیدا کردن یک تطابق ماکسیمم و راس هایی که شروع مسیر متناوب هستند باید از دوبخشی بودن گراف استفاده کنیم.

برای پیدا کردن تطابق طبق الگوریتم بخش 12.2 عمل می کنیم و .............................. 

بازی ها و تطابق
~~~~~~~~~~~~~~~~~~~



