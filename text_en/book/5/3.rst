De Bruijn sequence
==========

Is it possible to write :math:`2^n` digits of 0s and 1s around a circle such that if we consider all consecutive segments of length :math:`n`, they produce all possible :math:`n`-bit binary numbers?

Transformation to a Hamiltonian Cycle
------------------

Our first idea for modeling this graph is as follows:

We construct a graph with :math:`2^n` vertices, where each vertex is an :math:`n`-string of 0s and 1s. A directed edge exists from vertex :math:`a` to vertex :math:`b` if the last digit of string :math:`a` can be removed, and then a character added to its beginning to obtain string :math:`b`. Now the problem is equivalent to finding a Hamiltonian cycle in the graph we constructed!

Here we reach a dead end because we lack a method to determine whether a graph contains a Hamiltonian cycle or not.

Transformation to an Eulerian Tour
-----------------

We construct a graph with :math:`2^{n-1}` vertices, where each vertex corresponds to an :math:`n-1` string of 0s and 1s. Each vertex :math:`u` has exactly two outgoing edges. The outgoing edge labeled with 0 leads to vertex :math:`w` such that if we remove the last character of string :math:`u` and add 0 to its beginning, the resulting string will be :math:`w`. The outgoing edge labeled with 1 can be defined in a similar manner.

The main difference between the previous graph and this one is that in the previous graph, each :math:`n`-tuple of 0s and 1s around the circle corresponded to a vertex of the graph. But here, it corresponds to an edge of the graph. We have transformed the problem into finding an Eulerian tour in the graph. (It can be proven that just as the out-degree of each vertex is 2, the in-degree of each vertex is also 2, and the underlying graph is connected, thus it is an Eulerian graph).

Now, if you find an Eulerian tour of the graph and write the digits on its edges in order around the circle, our desired arrangement will be obtained!

.. figure:: /_static/dot/De_Bruijn_Graph.svg
   :width: 40%
   :align: center
   :alt: اگه اینترنت یارو آشغال باشه این میاد
