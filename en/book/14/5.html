

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fa" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fa" > <!--<![endif]-->
<html dir="ltr" lang="fa">
    <head>
        
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    
         <title>Random Walk &mdash; نظریه گراف‌ها برای المپیاد کامپیوتر</title>
    




    

    <link rel="stylesheet" type=text/css href="/_static/main.css">

    <link rel="stylesheet" type=text/css href="../../_static/pygments.css">

    <link rel="stylesheet" type=text/css href="../../_static/minoo-ltr.css">



<link rel="stylesheet" type=text/css href="../../_static/font-awesome.min.css">
<link rel="stylesheet" type=text/css href="../../_static/bootstrap.min.css">
<link rel="stylesheet" type=text/css href="../../_static/pygment-solarized-light.css">


    <link rel="stylesheet" type=text/css href="../../_static/minoo-ltr.css">

        <link rel="index" title="فهرست" href="../../genindex.html" />
        <link rel="search" title="جستجو" href="../../search.html" />
        <link rel="top" title="نظریه گراف‌ها برای المپیاد کامپیوتر" href="../../index.html" />
        <link rel="up" title="Special Topics" href="index.html" />
        <link rel="next" title="Ramsey Numbers" href="6.html" />
        <link rel="prev" title="Identical Graphs" href="4.html" />



    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>

    
        <script type="text/javascript" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script type="text/javascript" src="../../None"></script>
        <script type="text/javascript" src="../../_static/searchtools.js"></script>


<script type="text/javascript" src="../../_static/minoo.js"></script>
<script type="text/javascript" src="../../_static/modernizr.min.js"></script>
<style>
    * {
        border-radius: 1rem;
    }
</style>
    </head>
    <body>
        <div id="page">
            <div id="wrapper-page-sidebar">
                

<div id="page-sidebar">
<div id="sidebar-top">
    <div id="sidebar-top-image">
        <span style="background-image: url('../../_static/avatar.png');"></span>
    </div>
    <div id="sidebar-top-links">
        
            <a href=http://git.coderz.ir target="_blank"><i class="fa fa-globe" style="font-size:23px;"></i></a>
        
        
        
        
        
        
            <a href=https://github.com/dariubs/git target="_blank"><i class="fa fa-github-square" style="font-size:23px;"></i></a>
        
        
    </div>
    <div id="sidebar-navigation">
        <span id="navigation-toggle"><i class="fa  fa-angle-double-right " id="sidebar-toggle-icon" style="font-size: 27px;"></i></span>
        <span id="navigation-search">
                <form action="../../search.html" method="get">
                    <input id="input-search" type="text" name="q"  placeholder="Search">
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
        </span>
    </div>
    <div id="sidebar-top-title">
        <a href="../../index.html">نظریه گراف‌ها برای المپیاد کامپیوتر</a>
    </div>
</div>

<div id="wrapper-sidebar-bottom">
<div id="sidebar-bottom">
    <div id="sidebar-bottom-list">
        
        
            <div id="tree-toc">
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../1/index.html">Basic Definitions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../1/1.html">Introduction to Graphs and Graph Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/2.html">Types of Graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/3.html">Graph Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/4.html">Walks, Trails, Paths, Extremal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/5.html">Subgraphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/6.html">Connectivity, Cut Edge, and Cut Vertex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/7.html">Bipartite Graph</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2/index.html">Trees</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2/1.html">Introductory Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2/2.html">Distance in Tree and Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2/3.html">Counting the Number of Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2/4.html">DFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2/5.html">BFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2/6.html">Algorithm for Finding Tree Diameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2/7.html">DFS Start/Finish Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2/8.html">Cut Vertex and Bridge Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2/9.html">Idea Cultivation Workshop</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../3/index.html">Directed Graph</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../3/1.html">Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/2.html">Tournament</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/3.html">Directed Acyclic Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/4.html"><strong>Strongly Connected Components</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/5.html">Detecting Cycles in a Directed Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/6.html">Games and Directed Graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/7.html">Functional Graphs and Permutation Graphs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../4/index.html">Proof Techniques for Graph Problems</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../4/1.html">Extremal Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4/2.html">Contracting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4/3.html">Graph and Magic</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../5/index.html">Eulerian Tour and Hamiltonian Cycle</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../5/1.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/2.html">Eulerian Tour in Directed and Undirected Graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/3.html">De Bruijn sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/4.html">Existence Theorems for Hamiltonian Cycles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/5.html">Exponential Algorithms for Finding Hamiltonian Cycles and Paths</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../6/index.html">Shortest Path Algorithms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../6/1.html">Bellman-Ford</a></li>
<li class="toctree-l2"><a class="reference internal" href="../6/2.html">Dijkstra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../6/3.html">Floyd-Warshall</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../7/index.html">Matrices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../7/1.html">Matrices and Operations on Them</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/2.html">Determinants of Matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/3.html">Incidence Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/4.html">Adjacency Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/5.html">Number of Walks of Length n</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/6.html">Obtaining Recursive Functions Using Graphs and Matrices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../8/index.html">Tree Data Structures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../8/1.html">Binary Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/2.html">Binary Search Tree (BST)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/3.html">Heap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/4.html">DSU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/5.html">Segment Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/6.html">Trie</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../9/index.html">NP and NP-complete Problems</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../9/1.html">NP and NP-complete Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9/2.html">Proof of NP-Completeness of the SAT Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9/3.html">Graph NP-Complete Problems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../10/index.html">Lca</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../10/1.html">Problem Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/2.html">O(n+q*lg(n)) Solution using Heavy-Light Decomposition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/3.html">Tarjan's Offline Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/4.html">Relationship between LCA and RMQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/5.html">LCA Linear Time Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/6.html">Virtual Tree</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../11/index.html">Advanced Tree Algorithms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../11/1.html">Minimum Spanning Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/2.html">Sack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/3.html">Centroid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/4.html">Huffman Coding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/5.html">Tree Hashing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/6.html">Heavy-Light Decomposition (HLD)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../12/index.html">Connectivity</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../12/1.html">Cuts and Connectivity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/2.html">k-connected Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/3.html">Max-Flow Min-Cut</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../13/index.html">Matching</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../13/1.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/2.html">Matching in Bipartite Graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/3.html">Min-Max Theorems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/4.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/5.html">Maximum Flow and Matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/6.html">Poset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/7.html">Matching in General Graphs</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Special Topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1.html">Planar Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.html">Degree Sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.html">Coloring</a></li>
<li class="toctree-l2"><a class="reference internal" href="4.html">Identical Graphs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Random Walk</a></li>
<li class="toctree-l2"><a class="reference internal" href="6.html">Ramsey Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="7.html">Independent Set and Clique</a></li>
<li class="toctree-l2"><a class="reference internal" href="8.html">2-SAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="9.html">Several Special Matrices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">Appendix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/1.html">How to Use This Book?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/2.html">Introduction to Algorithms and Complexity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/3.html">Cheat Sheet</a></li>
</ul>
</li>
</ul>

            </div>
        
   </div>
   <div id="sidebar-bottom-versions">
      

   </div>
</div>
</div>
</div>
            </div>
            <div id="page-body">
                <div class="container-fluid">
                        <div id="body-content" style="max-width: 800px">

                            <div class="row-fluid">
			        <div class="col-lg-12">
				    

<div id="body-top">
    
    
        <a href="../../index.html"><i class="fa fa-folder-o"></i>&nbsp; Index</a>&nbsp;
        <a><i class="fa  fa-angle-right"></i></a>&nbsp;
        <a><i class="fa fa-folder-open-o"></i>&nbsp; Random Walk</a>
    
    
        <a style="float: left; padding-right: 20px;" href="/problems/" id="problems-link"><i class="fa fa-question on fa-circle"></i>&nbsp;Problems</a>
        <script>document.getElementById('problems-link').href=`/problems/${window.location.pathname.slice(6).replace('/','.')}.html`.replace('.html.html', '.html').replace('/.html', '/').replace('.index.html', '.html');</script>
        <a style="float: left; padding-right: 20px;" href="/" id="lang-link"><i class="fa fa-language on fa-circle"></i>&nbsp;Change Language (Farsi)</a>
        <script>document.getElementById('lang-link').href=`${window.location.pathname.slice(3)}`;</script>
        
            <a href="../../_sources/book/14/5.rst.txt" rel="nofollow" id="top-src" target="_blank"><i class="fa fa-code"></i>&nbsp; Source</a>
        
    
</div>
			        </div>
			    </div>
                            
                            <div class="row-fluid">
			        <div class="col-lg-12">
				    
  <section id="random-walk">
<h1>Random Walk<a class="headerlink" href="#random-walk" title="پیوند ثابت به این سر مقاله">¶</a></h1>
<p>Imagine you are trapped in a maze. Everywhere is dark, and at every intersection you reach, you randomly choose one of the paths. You also don't remember any information about the paths or intersections. What is the probability that you will eventually escape the maze? What is the expected time it takes to escape the maze?</p>
<p>The general problem of a random walk is defined as follows: A directed graph is given. On the edges adjacent to each vertex, we have a probability distribution. That is, for each vertex <span class="math notranslate nohighlight">\(v\)</span> where we are currently located, for each of its neighbors <span class="math notranslate nohighlight">\(u\)</span>, we define the probability <span class="math notranslate nohighlight">\(p_{vu}\)</span> as the probability of traversing this edge. Also, the sum of probabilities of all edges adjacent to <span class="math notranslate nohighlight">\(v\)</span> must be equal to 1. Now, we can imagine a person standing on vertex <span class="math notranslate nohighlight">\(s\)</span> who, at each step, moves randomly according to the probability distribution of the vertex they are currently on. This is the general problem space. Various questions can be asked within this framework. Two of the most important questions, which we will examine in this section, are: what is the probability and expected number of moves for the person to reach vertex <span class="math notranslate nohighlight">\(t\)</span>?</p>
<section id="transforming-problems-into-random-walk">
<h2>Transforming Problems into Random Walk<a class="headerlink" href="#transforming-problems-into-random-walk" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<p>If you pay attention to probability problems, many of them can be transformed into a Random Walk. This is done by considering each possible state (you'll understand more precisely by looking at the examples below) as a vertex. The operations we perform are essentially edges that probabilistically change our state (moving us from one vertex to another).</p>
<p>Let's examine a few examples.</p>
<section id="mouse-and-cheese">
<h3>Mouse and Cheese<a class="headerlink" href="#mouse-and-cheese" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>We have an integer number line. A blind mouse is at point <span class="math notranslate nohighlight">\(s\)</span> and is looking for a piece of cheese at point <span class="math notranslate nohighlight">\(t\)</span>. At each step, the mouse moves forward with probability <span class="math notranslate nohighlight">\(p\)</span> and backward with probability <span class="math notranslate nohighlight">\(1-p\)</span>. What is the expected number of steps it takes for the mouse to reach the cheese?</p>
</section>
<section id="transformation">
<h3>Transformation<a class="headerlink" href="#transformation" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>To transform this problem into a random walk, it is enough to consider a graph with infinitely many vertices, where vertex <span class="math notranslate nohighlight">\(x\)</span> represents point <span class="math notranslate nohighlight">\(x\)</span> on the number line. Each vertex <span class="math notranslate nohighlight">\(x\)</span> has an edge to <span class="math notranslate nohighlight">\(x+1\)</span> with probability <span class="math notranslate nohighlight">\(p\)</span> and an edge to <span class="math notranslate nohighlight">\(x-1\)</span> with probability <span class="math notranslate nohighlight">\(1-p\)</span>. Now, the problem is equivalent to finding the expected number of traversed edges to get from <span class="math notranslate nohighlight">\(s\)</span> to <span class="math notranslate nohighlight">\(t\)</span>.</p>
<p>Note that we have only managed to transform this problem into a random walk, but we haven't solved it yet!</p>
</section>
<section id="bomb">
<h3>Bomb<a class="headerlink" href="#bomb" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>We have a terrorist holding a button. After every hour, the terrorist presses the button. After pressing the button, the bomb explodes with probability <span class="math notranslate nohighlight">\(p\)</span>, and with probability <span class="math notranslate nohighlight">\(1-p\)</span>, nothing happens. This process continues until the bomb finally explodes (or the process continues indefinitely). Find the expected time it takes for the bomb to explode.</p>
</section>
<section id="id1">
<h3>Transformation<a class="headerlink" href="#id1" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>Transforming this problem into a random walk is not obvious at first glance. However, as we said, most probability problems can be converted into a random walk (though the graph doesn't necessarily have to be small, nor does solving the main problem through the random walk problem need to be simpler).</p>
<p>Here, our states are whether the bomb has exploded or not. So, it's sufficient to consider two vertices, <span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span>, where <span class="math notranslate nohighlight">\(A\)</span> means we are in a state where the bomb has not exploded. Now, after every hour (each operation), the bomb explodes with probability <span class="math notranslate nohighlight">\(p\)</span>. So, vertex <span class="math notranslate nohighlight">\(A\)</span> has an edge to <span class="math notranslate nohighlight">\(B\)</span> with probability <span class="math notranslate nohighlight">\(p\)</span>. Also, with probability <span class="math notranslate nohighlight">\(1-p\)</span>, the bomb does not explode, meaning we return to our previous state. So, vertex <span class="math notranslate nohighlight">\(A\)</span> has an edge to itself with probability <span class="math notranslate nohighlight">\(1-p\)</span>.</p>
<p>Ultimately, our problem is transformed into finding the expected number of edges required to get from <span class="math notranslate nohighlight">\(A\)</span> to <span class="math notranslate nohighlight">\(B\)</span>. The graph in question has two vertices and two edges!</p>
</section>
<section id="three-goat-thieves">
<h3>Three Goat Thieves<a class="headerlink" href="#three-goat-thieves" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>In this problem, we have three goat thieves, whom we call First, Second, and Third. The three thieves are playing a game. Each round of the game proceeds as follows:</p>
<ul class="simple">
<li><p>They randomly choose one of themselves. In each step, the First is chosen with probability <span class="math notranslate nohighlight">\(\frac 1 2\)</span>, the Second with probability <span class="math notranslate nohighlight">\(\frac 1 3\)</span>, and the Third with probability <span class="math notranslate nohighlight">\(\frac 1 6\)</span>. Let's call the chosen thief Mr. <span class="math notranslate nohighlight">\(D\)</span>.</p></li>
<li><p>Mr. <span class="math notranslate nohighlight">\(D\)</span> goes to the farm and steals a goat. The stolen goat is added to Mr. <span class="math notranslate nohighlight">\(D\)</span>'s assets.</p></li>
<li><p>At this point, if Mr. <span class="math notranslate nohighlight">\(D\)</span>'s goats are at least 2 more than one of his friends', Mr. <span class="math notranslate nohighlight">\(D\)</span> becomes the King of Thieves, and the game ends. Otherwise, another person is chosen among them, and this process continues.</p></li>
</ul>
<p>So, in general, the thieves continue this process until the thief with the most assets has at least two more goats than the thief with the least assets...</p>
<p>Now you must calculate the probability that the First becomes the King of Thieves!</p>
</section>
<section id="id2">
<h3>Transformation<a class="headerlink" href="#id2" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>A list of different game states is as follows:</p>
<ul class="simple">
<li><p>Everyone has an equal number of goats. Vertex <span class="math notranslate nohighlight">\(s\)</span></p></li>
<li><p>The First's goats are one more than the others. Vertex <span class="math notranslate nohighlight">\(A_1\)</span></p></li>
<li><p>The Second's goats are one more than the others. Vertex <span class="math notranslate nohighlight">\(B_1\)</span></p></li>
<li><p>The Third's goats are one more than the others. Vertex <span class="math notranslate nohighlight">\(C_1\)</span></p></li>
<li><p>The First's goats are one less than the others. Vertex <span class="math notranslate nohighlight">\(A_{-1}\)</span></p></li>
<li><p>The Second's goats are one less than the others. Vertex <span class="math notranslate nohighlight">\(B_{-1}\)</span></p></li>
<li><p>The Third's goats are one less than the others. Vertex <span class="math notranslate nohighlight">\(C_{-1}\)</span></p></li>
<li><p>First is King. Vertex <span class="math notranslate nohighlight">\(A_2\)</span></p></li>
<li><p>Second is King. Vertex <span class="math notranslate nohighlight">\(B_2\)</span></p></li>
<li><p>Third is King. Vertex <span class="math notranslate nohighlight">\(C_3\)</span></p></li>
</ul>
<p>Each of the vertices (except the last three) has exactly three outgoing edges, each depending on which thief is chosen to steal. For example, the neighbors of vertex <span class="math notranslate nohighlight">\(A_{-1}\)</span> are as follows:</p>
<ul class="simple">
<li><p>If the First is chosen, we go to vertex <span class="math notranslate nohighlight">\(s\)</span> with probability <span class="math notranslate nohighlight">\(\frac 1 2\)</span>.</p></li>
<li><p>If the Second is chosen, we go to vertex <span class="math notranslate nohighlight">\(B_2\)</span> with probability <span class="math notranslate nohighlight">\(\frac 1 3\)</span>.</p></li>
<li><p>If the Third is chosen, we go to vertex <span class="math notranslate nohighlight">\(C_2\)</span> with probability <span class="math notranslate nohighlight">\(\frac 1 6\)</span>.</p></li>
</ul>
<p>Ultimately, the problem is equivalent to the probability of reaching vertex <span class="math notranslate nohighlight">\(A_2\)</span> from vertex <span class="math notranslate nohighlight">\(s\)</span>.</p>
</section>
</section>
<section id="solving-random-walk-problems">
<h2>Solving Random Walk Problems<a class="headerlink" href="#solving-random-walk-problems" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<p>In the previous section, we saw that many probability problems can be modeled with a Random Walk. However, if this modeling doesn't bring us closer to solving the main problem, it won't be beneficial to us! In this section, we will see that the probability and expected number of moves to get from <span class="math notranslate nohighlight">\(s\)</span> to <span class="math notranslate nohighlight">\(t\)</span> in a Random Walk can be solved algorithmically using a system of several equations with several unknowns!</p>
<p>Let <span class="math notranslate nohighlight">\(P_{AB}\)</span> be the probability of going from vertex <span class="math notranslate nohighlight">\(A\)</span> to vertex <span class="math notranslate nohighlight">\(B\)</span>. If there is no edge from <span class="math notranslate nohighlight">\(A\)</span> to <span class="math notranslate nohighlight">\(B\)</span> in the graph, consider <span class="math notranslate nohighlight">\(P_{AB}=0\)</span>. Also, <span class="math notranslate nohighlight">\(P_{AB}\)</span> is not necessarily equal to <span class="math notranslate nohighlight">\(P_{BA}\)</span> (since the graph is directed).</p>
<p>In this section, we assume that vertex <span class="math notranslate nohighlight">\(t\)</span> is given, and we want to find the probability and expected number of moves to get from any vertex <span class="math notranslate nohighlight">\(u\)</span> to <span class="math notranslate nohighlight">\(t\)</span>.</p>
<p>We denote the probability of reaching <span class="math notranslate nohighlight">\(t\)</span> from <span class="math notranslate nohighlight">\(u\)</span> as <span class="math notranslate nohighlight">\(ansP_u\)</span> and the expected number of edges traversed to reach <span class="math notranslate nohighlight">\(t\)</span> from <span class="math notranslate nohighlight">\(u\)</span> as <span class="math notranslate nohighlight">\(ansE_u\)</span>.</p>
<p>It is clear that <span class="math notranslate nohighlight">\(ansP_t = 1\)</span> and <span class="math notranslate nohighlight">\(ansE_t = 0\)</span>.</p>
<p>The following equations hold for every <span class="math notranslate nohighlight">\(u \neq t\)</span>:</p>
<p><span class="math notranslate nohighlight">\(ansP_u = \sum P_{uv} \times ansP_v\)</span></p>
<p><span class="math notranslate nohighlight">\(ansE_u = 1 + \sum P_{uv} \times ansE_v\)</span></p>
<p>If we have <span class="math notranslate nohighlight">\(n\)</span> vertices, these equations give us a system of <span class="math notranslate nohighlight">\(n-1\)</span> equations with <span class="math notranslate nohighlight">\(n-1\)</span> unknowns. Moreover, if our directed graph is a DAG, there is no need to solve a system of equations. Instead, we consider the graph in topological order and obtain the answers from last to first (which is very similar to what we do in recursive functions).</p>
<section id="solving-an-example">
<h3>Solving an Example<a class="headerlink" href="#solving-an-example" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>Here, we want to solve the bomb problem mentioned above. If we form the system of equations, the result is as follows:</p>
<p><span class="math notranslate nohighlight">\(ansE_B = 0\)</span></p>
<p><span class="math notranslate nohighlight">\(ansE_A = 1 + (1-p) \times ansE_A + p \times ansE_B\)</span></p>
<p>Which easily leads to: <span class="math notranslate nohighlight">\(ansE_A = \frac 1 p\)</span></p>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<p>Here we entered the realm of Random Walks and discussed some of the problems defined in this space, but the truth is that the types of questions raised in the Random Walk space are very numerous, and a detailed discussion is beyond the scope of this book.</p>
<p>The method we described for transforming problems into a Random Walk and then solving them is very general. This approach is good for gaining intuition about problems, but often the constructed graph is much too large to manually solve its corresponding equations (like the Three Goat Thieves problem).</p>
<p>Sometimes we can leverage the special nature of the graph. For example, suppose we want to find the expected number of moves to get from vertex <span class="math notranslate nohighlight">\(s\)</span> to <span class="math notranslate nohighlight">\(t\)</span>, and the graph structure is such that every path from <span class="math notranslate nohighlight">\(s\)</span> to <span class="math notranslate nohighlight">\(t\)</span> must pass through vertex <span class="math notranslate nohighlight">\(w\)</span>. In this case, according to the rules of expected value, we can deduce that the expected number of edges to get from <span class="math notranslate nohighlight">\(s\)</span> to <span class="math notranslate nohighlight">\(t\)</span> is equal to the sum of the expected number of moves to get from <span class="math notranslate nohighlight">\(s\)</span> to <span class="math notranslate nohighlight">\(w\)</span> and then from <span class="math notranslate nohighlight">\(w\)</span> to <span class="math notranslate nohighlight">\(t\)</span>. You can use this concept to solve the mouse and cheese problem!</p>
<p>So, in general, it can be said that transforming problems into a Random Walk helps us, but it is often not sufficient on its own to solve the question, and we need to use more creativity to simplify the problem.</p>
</section>
</section>


			        </div>
			    </div>

                            <div class="row-fluid">
			        <div class="col-lg-12">
				    

        
            <div id="body-btn">
                
                    
                    <a href="4.html" style="float:left;" title="Identical Graphs" accesskey="p"><i class="fa fa-chevron-left"></i>&nbsp; Previous</a>
                    
                    
                    <a href="6.html" style="float:right;" title="Ramsey Numbers" accesskey="n">Next &nbsp;<i class="fa fa-chevron-right"></i></a>
                    
                
            </div>
        


        <div id="body-footer">
            <div>
                <a href="https://shaazzz.ir/">
                    <img style="max-width: unset;"  src="/_static/shaazzz_logo.png">
                </a>
            </div>
            <div id="text">
                <p>
                    This book is made by
                    <a href="/contributors">
                    The Shaazzz contributors.
                    </a>
                </p>
                <p>
                    It is publicly available with
                    <a href="https://pdcommunity.ir/license/cc-by-sa/">
                        cc-by-sa
                    </a>
                    license.
                </p>
                    <p style="font-size: 13px;">
                        Last updated at اکتبر 13, 2025.
                    </p>
                <p style="font-size: 13px;">
                    
                        Rendered by <a href="http://sphinx-doc.org/">Sphinx</a> (4.3.2) and <a href="https://github.com/saeiddrv/SphinxMinooTheme">Minoo theme</a> (Beta 0.9.7).
                    
                </p>
            </div>
            <div>
                <a href="https://pdcommunity.ir/license/cc-by-sa/">
                    <img style="max-width: unset;" src="/_static/cc-by-sa.svg">
                </a>
            </div>
        </div>
			        </div>
			    </div>
                            
                        </div>
                </div>
            </div>
            <span class="back-to-top">
                <i class="fa fa-arrow-circle-up"></i>
            </span>
        </div>
    </body>
</html>