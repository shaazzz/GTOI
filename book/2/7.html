

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fa" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fa" > <!--<![endif]-->
<html dir="rtl" lang="fa">
    <head>
        
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    
         <title>DFS Start/Finish Time &mdash; نظریه گراف‌ها برای المپیاد کامپیوتر</title>
    




    

    <link rel="stylesheet" type=text/css href="/_static/main.css">

    <link rel="stylesheet" type=text/css href="../../_static/pygments.css">

    <link rel="stylesheet" type=text/css href="../../_static/minoo-rtl.css">



<link rel="stylesheet" type=text/css href="../../_static/font-awesome.min.css">
<link rel="stylesheet" type=text/css href="../../_static/bootstrap.min.css">
<link rel="stylesheet" type=text/css href="../../_static/pygment-solarized-light.css">


    <link rel="stylesheet" type=text/css href="../../_static/minoo-rtl.css">

        <link rel="index" title="فهرست" href="../../genindex.html" />
        <link rel="search" title="جستجو" href="../../search.html" />
        <link rel="top" title="نظریه گراف‌ها برای المپیاد کامپیوتر" href="../../index.html" />
        <link rel="up" title="درخت ها" href="index.html" />
        <link rel="next" title="الگوریتم های راس و یال برشی" href="8.html" />
        <link rel="prev" title="الگوریتم پیدا کردن قطر درخت" href="6.html" />



    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>

    
        <script type="text/javascript" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script type="text/javascript" src="../../None"></script>
        <script type="text/javascript" src="../../_static/searchtools.js"></script>


<script type="text/javascript" src="../../_static/minoo.js"></script>
<script type="text/javascript" src="../../_static/modernizr.min.js"></script>
<style>
    * {
        border-radius: 1rem;
    }
</style>
    </head>
    <body>
        <div id="page">
            <div id="wrapper-page-sidebar">
                

<div id="page-sidebar">
<div id="sidebar-top">
    <div id="sidebar-top-image">
        <span style="background-image: url('../../_static/avatar.png');"></span>
    </div>
    <div id="sidebar-top-links">
        
            <a href=http://git.coderz.ir target="_blank"><i class="fa fa-globe" style="font-size:23px;"></i></a>
        
        
        
        
        
        
            <a href=https://github.com/dariubs/git target="_blank"><i class="fa fa-github-square" style="font-size:23px;"></i></a>
        
        
    </div>
    <div id="sidebar-navigation">
        <span id="navigation-toggle"><i class="fa  fa-angle-double-left " id="sidebar-toggle-icon" style="font-size: 27px;"></i></span>
        <span id="navigation-search">
                <form action="../../search.html" method="get">
                    <input id="input-search" type="text" name="q"  placeholder="جستجو">
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
        </span>
    </div>
    <div id="sidebar-top-title">
        <a href="../../index.html">نظریه گراف‌ها برای المپیاد کامپیوتر</a>
    </div>
</div>

<div id="wrapper-sidebar-bottom">
<div id="sidebar-bottom">
    <div id="sidebar-bottom-list">
        
        
            <div id="tree-toc">
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../1/index.html">تعاریف اولیه</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../1/1.html">مقدمات و مدل سازی با گراف</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/2.html">انواع گراف</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/3.html">پیاده سازی گراف</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/4.html">گشت، گذر، مسیر، اکسترمال</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/5.html">زیرگراف ها</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/6.html">همبندی، یال برشی و راس برشی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/7.html">گراف دو بخشی</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">درخت ها</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1.html">خاصیت های مقدماتی</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.html">فاصله در درخت و گراف</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.html">شمردن تعداد درخت ها</a></li>
<li class="toctree-l2"><a class="reference internal" href="4.html">DFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="5.html">BFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="6.html">الگوریتم پیدا کردن قطر درخت</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">DFS Start/Finish Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="8.html">الگوریتم های راس و یال برشی</a></li>
<li class="toctree-l2"><a class="reference internal" href="9.html">کارگاه پرورش ایده</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../3/index.html">گراف جهت‌دار</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../3/1.html">تعاریف</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/2.html">تورنومنت</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/3.html">گراف جهت‌دار بدون دور</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/4.html">مولفه‌های قویا همبند</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/5.html">تشخیص دور داشتن گراف جهت دار</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/6.html">بازی‌ها و گراف جهت‌دار</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/7.html">گراف تابعی و گراف‌جایگشت</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../4/index.html">تکنیک های اثبات مسائل گراف</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../4/1.html">انتخاب های اکسترمالی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4/2.html">منقبض کردن</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4/3.html">گراف و جادو</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../5/index.html">تور اویلری و دور همیلتونی</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../5/1.html">معرفی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/2.html">تور اویلری در گراف جهت دار و بی جهت</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/3.html">De Bruijn sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/4.html">قضیه های وجودی دور همیلتونی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/5.html">الگوریتم های نمایی پیدا کردن دور و مسیر همیلتونی</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../6/index.html">الگوریتم های کوتاه ترین مسیر</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../6/1.html">بلمن فورد</a></li>
<li class="toctree-l2"><a class="reference internal" href="../6/2.html">دکسترا</a></li>
<li class="toctree-l2"><a class="reference internal" href="../6/3.html">فلوید وارشال</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../7/index.html">ماتریس ها</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../7/1.html">ماتریس و عملیات های روی آن</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/2.html">دترمینان ماتریس ها</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/3.html">ماتریس وقوع</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/4.html">ماتریس مجاورت</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/5.html">تعداد گشت ها به طول n</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/6.html">به دست آوردن توابع بازگشتی به کمک گراف و ماتریس</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../8/index.html">داده ساختار های درختی</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../8/1.html">درخت دودویی (Binary Tree)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/2.html">درخت جست و جوی دودویی (BST یا Binary Search Tree)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/3.html">Heap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/4.html">DSU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/5.html">Segment Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/6.html">Trie</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../9/index.html">مسائل np و np کامل</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../9/1.html">تعریف np و np کامل</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9/2.html">اثبات np کامل بودن مساله sat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9/3.html">مسائل np کامل گراف</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../10/index.html">Lca</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../10/1.html">شرح مساله</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/2.html">راه حل O(n+q*lg(n)) به کمک جداسازی سبک-سنگین</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/3.html">الگوریتم برون‌خط تارجان</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/4.html">ارتباط LCA و RMQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/5.html">راه خطی برای LCA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/6.html">درخت مجازی</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../11/index.html">الگوریتم های پیشرفته درخت</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../11/1.html">درخت پوشای کمینه</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/2.html">گونی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/3.html">سنتروید</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/4.html">هافمن کدینگ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/5.html">هش درخت</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/6.html">تجزیه سبک سنگین(HLD)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../12/index.html">همبندی</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../12/1.html">برش ها و همبندی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/2.html">گراف k همبند</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/3.html">برش کمینه و جریان بیشینه</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../13/index.html">تطابق</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../13/1.html">آشنایی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/2.html">تطابق در گراف دوبخشی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/3.html">قضایا ی مینماکس</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/4.html">کاربرد ها</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/5.html">جریان بیشینه و تطابق</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/6.html">Poset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/7.html">تطابق در گراف های عام</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../14/index.html">مباحث ویژه</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../14/1.html">گراف مسطح</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/2.html">دنباله درجه ای</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/3.html">رنگ آمیزی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/4.html">یک ریختی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/5.html">Random Walk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/6.html">اعداد رمزی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/7.html">مجموعه مستقل و خوشه</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/8.html">2-SAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/9.html">چند ماتریس خاص</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">ضمیمه</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/1.html">چگونه از این کتاب استفاده کنیم؟</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/2.html">آشنایی با الگوریتم ها و پیچیدگی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/3.html">برگه تقلب (Cheat sheet)</a></li>
</ul>
</li>
</ul>

            </div>
        
   </div>
   <div id="sidebar-bottom-versions">
      

   </div>
</div>
</div>
</div>
            </div>
            <div id="page-body">
                <div class="container-fluid">
                        <div id="body-content" style="max-width: 800px">

                            <div class="row-fluid">
			        <div class="col-lg-12">
				    

<div id="body-top">
    
    
        <a href="../../index.html"><i class="fa fa-folder-o"></i>&nbsp; فهرست</a>&nbsp;
        <a><i class="fa  fa-angle-left"></i></a>&nbsp;
        <a><i class="fa fa-folder-open-o"></i>&nbsp; DFS Start/Finish Time</a>
    
    
        <a style="float: left; padding-right: 20px;" href="/problems/" id="problems-link"><i class="fa fa-question on fa-circle"></i>&nbsp;سوالات</a>
        <script>document.getElementById('problems-link').href=`/problems/${window.location.pathname.slice(6).replace('/','.')}.html`.replace('.html.html', '.html').replace('/.html', '/').replace('.index.html', '.html');</script>
        <a style="float: left; padding-right: 20px;" href="/en/" id="lang-link"><i class="fa fa-language on fa-circle"></i>&nbsp;Change Language (English)</a>
        <script>document.getElementById('lang-link').href=`/en${window.location.pathname}`;</script>
        
            <a href="../../_sources/book/2/7.rst.txt" rel="nofollow" id="top-src" target="_blank"><i class="fa fa-code"></i>&nbsp; سورس</a>
        
    
</div>
			        </div>
			    </div>
                            
                            <div class="row-fluid">
			        <div class="col-lg-12">
				    
  <section id="dfs-start-finish-time">
<h1>DFS Start/Finish Time<a class="headerlink" href="#dfs-start-finish-time" title="پیوند ثابت به این سر مقاله">¶</a></h1>
<p>در این بخش می خواهیم با ترفندی گراف را به آرایه تبدیل کنیم.</p>
<p>ایده های مختلفی وجود دارد که بتوان گراف را به یک آرایه تبدیل کرد که starting time یکی از آن ها است. با استفاده از این ایده می توان گراف داده شده را به آرایه تبدیل کرد و با آن انواع سوال ها را با سادگی بیشتری حل کرد.</p>
<p>می توان برای هر راس اولین زمانی که الگوریتم dfs بر روی آن وارد شده است را در نظر گرفت. به این صورت هر راس عددی یکتا دارد و می توان راس ها را بر حسب این زمان مرتب کرد و به یک آرایه رسید.</p>
<p>فرض کنید آرایه ای که می خواهیم از راس های گراف درست کنیم a[i] باشد و زمانی که الگوریتم dfs وارد راس u می شود برابر st[u] باشد. در این صورت راس u را در خانه st[u] قرار می دهیم یا به عبارتی a[st[u]] = u است.</p>
<p>مشخص است که هر زیر درخت از درخت dfs آن یک بازه از آرایه است.</p>
<p>finishing time هم مانند starting time تعریف می شود با این تفاوت که زمان خارج شدن الگوریتم dfs از راسی را نشان می دهد.</p>
<p>حال به بررسی چند سوال می پردازیم.</p>
<section id="id1">
<h2>چک کردن جد و نواده بودن در زمان اجرای خطی<a class="headerlink" href="#id1" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<p>درخت
<span class="math notranslate nohighlight">\(n\)</span>
راسی به همراه
<span class="math notranslate nohighlight">\(q\)</span>
کوئری به ما داده شده. در هر کوئری باید چک کنیم ایا راس
<span class="math notranslate nohighlight">\(u\)</span>
جد راس
<span class="math notranslate nohighlight">\(v\)</span>
است یا نه.
<span class="math notranslate nohighlight">\(O(n+q)\)</span></p>
<section id="id2">
<h3>حل<a class="headerlink" href="#id2" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>از این لم استفاده میکنیم که شرط لازم و کافی برای جد و نواده بودن به این شکل است:
<span class="math notranslate nohighlight">\(stt[u]&lt;=stt[v] and fnt[v]&lt;=fnt[u]\)</span>
یا
<span class="math notranslate nohighlight">\(stt[u]&lt;=stt[v] and stt[v]&lt;fnt[u]\)</span></p>
<p>به سادگی میتوان درستی این لم را بررسی کرد.
پس برای حل مساله ابتدا روی درخت
dfs
میزنیم و سپس به ازای هر کوئری شرط گفته سده را در
<span class="math notranslate nohighlight">\(O(1)\)</span>
چک میکنیم.</p>
</section>
</section>
<section id="k">
<h2>پیدا کردن kامین پدر<a class="headerlink" href="#k" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<p>درخت
<span class="math notranslate nohighlight">\(n\)</span>
راسی به همراه
<span class="math notranslate nohighlight">\(q\)</span>
کوئری به ما داده شده. در هر کوئری باید
<span class="math notranslate nohighlight">\(k\)</span>
امین پدر راس
<span class="math notranslate nohighlight">\(v\)</span>
را پیدا کنیم.
<span class="math notranslate nohighlight">\(O(n+q.log(n))\)</span></p>
<section id="id3">
<h3>حل<a class="headerlink" href="#id3" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>تمام ریوس با ارتفاع
<span class="math notranslate nohighlight">\(h[v]-k\)</span>
را در نظر بگیرید. با استفاده از لم سوال قبل میتوان نتیجه گرفت جواب راس با بیشترین استارتینگ تایم کمتر از استارتینگ تایم راس
<span class="math notranslate nohighlight">\(v\)</span>
در بین ریوس در ارتفاع
<span class="math notranslate nohighlight">\(k\)</span>
تا بالاتر است. به بیان دیگر</p>
<ul class="simple">
<li><p>u with maximum stt such that h[u] = h[v] - k and stt[u] &lt;= stt[v]</p></li>
</ul>
<p>به ازای هر ارتفاع یک وکتور از تمام ریوس ان ارتفاع بسازید که ریوس هر وکتور بر حسب استارتینگ تایم مرتب شده اند.
<span class="math notranslate nohighlight">\(O(n)\)</span></p>
<p>حال هر کوئری سوال به یک باینری سرچ روی یکی از این وکتور ها تبدیل میشود!</p>
</section>
</section>
<section id="id4">
<h2><a class="reference external" href="https://codeforces.com/problemset/problem/208/E">Blood Cousins</a><a class="headerlink" href="#id4" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<p>درخت
<span class="math notranslate nohighlight">\(n\)</span>
راسی با
<span class="math notranslate nohighlight">\(m\)</span>
کوئری به شکل
v p
داده شده. در هر کوئری باید تعداد
<span class="math notranslate nohighlight">\(u\)</span>
هایی را خروجی دهید که pامین پدر vوu یکسان اند.
<span class="math notranslate nohighlight">\(O(n+qlg(n))\)</span></p>
<section id="id5">
<h3>حل<a class="headerlink" href="#id5" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>ابتدا
pامین
پدر راس
v
را مشابه مساله قبل پیدا کنید.
اسم این راس را
w
بگذارید.
حال جواب تعداد
u
هایی است که
<span class="math notranslate nohighlight">\(h[u] = h[v] , stt[w]&lt;=stt[u] , stt[u] &lt; fnt[w]\)</span>
.
یعنی در وکتور مربوط به راس
v
تعداد استارتینگ تایم های مربوط به یک بازه را میخواهیم که با باینری سرچ ساده قابل حل است.</p>
</section>
</section>
<section id="id6">
<h2>دوهمبند کردن با مینیمم تعداد مسیر<a class="headerlink" href="#id6" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<p>درخت
<span class="math notranslate nohighlight">\(n\)</span>
راسی و
<span class="math notranslate nohighlight">\(2k\)</span>
برگی داده شده. در هر عملیات میتوانیم دو برگ را انتخاب کرده و تمام یالهای مسیر بین ان دو را رنگ کنیم. کمترین تعداد عملیات لازم و یک روش با کمترین تعداد عملیات برای رنگ کردن تمام یالها را پیدا کنید.
<span class="math notranslate nohighlight">\(O(n)\)</span></p>
<section id="id7">
<h3>حل<a class="headerlink" href="#id7" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>جواب=k
در ادامه روش ارایه میدهیم و درستی روش را نشان میدهیم.
اگر n=2 سوال بدیهی حل میشود.
پس فرض کنید n&gt;2 و حداقل یک راس غیربرگ داریم.
از یک راس غیربرگ درخت را ریشه دار کرده و برگ ها را بر حسب استارتینگ تایم شماره گذاری کنید.
حال روی این جفت برگ ها عملیات را انجام دهید:</p>
<div class="math notranslate nohighlight">
\[(1, k+1)\]</div>
<div class="math notranslate nohighlight">
\[(2, k+2)\]</div>
<div class="math notranslate nohighlight">
\[(3, k+3)\]</div>
<div class="math notranslate nohighlight">
\[...\]</div>
<div class="math notranslate nohighlight">
\[(k, 2k)\]</div>
<p>به وضوح پیچیدگی این جفت بندی
<span class="math notranslate nohighlight">\(O(n)\)</span>
است.</p>
<p>حال باید نشان دهیم همه یالها رنگ میشوند..
زیردرخت هر یال یک بازه از برگها را شامل میشود و برای اینکه یک یال رنگ شود باید جفت برگی داشته باشیم که یک سرش داخل این بازه و سر دیگرش خارج ان باشد.
فرض کنید بازه یال مورد نظر
<span class="math notranslate nohighlight">\([l, r]\)</span>
است.
دو حالت را بررسی میکنیم.
اول اینکه
<span class="math notranslate nohighlight">\(l&lt;=k &amp;&amp; k+&lt;=r\)</span>
در این حالت اگر
<span class="math notranslate nohighlight">\(l!=1\)</span>
بود جفت
(1, k+1)
داخل بازه میافتد. وگرنه جفت
(k, 2k)
.</p>
<p>اگر بازه متناظر یال مشابه حالت قبل نبود بدون کم شدن کلیت فرض میکنیم
<span class="math notranslate nohighlight">\(l,r&lt;=k\)</span>
در این حالت هم جفت
(r, r+k)
این یال را رنگ میکند.</p>
<p>پس در هر دو حالت یال مورد نظر رنگ میشود و جفت هایی که ساختیم معتبراند.</p>
</section>
</section>
</section>


			        </div>
			    </div>

                            <div class="row-fluid">
			        <div class="col-lg-12">
				    

        
            <div id="body-btn">
                
                    
                    <a href="6.html" style="float:right;" title="الگوریتم پیدا کردن قطر درخت" accesskey="p"><i class="fa fa-chevron-right"></i>&nbsp; قبلی</a>
                    
                    
                    <a href="8.html" style="float:left;" title="الگوریتم های راس و یال برشی" accesskey="n">بعدی &nbsp;<i class="fa fa-chevron-left"></i></a>
                    
                
            </div>
        


        <div id="body-footer">
            <div>
                <a href="https://shaazzz.ir/">
                    <img style="max-width: unset;"  src="/_static/shaazzz_logo.png">
                </a>
            </div>
            <div id="text">
                <p>
                    این کتاب توسط 
                    <a href="/contributors">
                    مشارکت کنندگان شاززز
                    </a>
                    به وجود آمده است.
                </p>
                <p>
                    این کتاب عمومی است و تحت
                    <a href="https://pdcommunity.ir/license/cc-by-sa/">
                        پروانه cc-by-sa
                    </a>
                    در دسترس است.
                </p>
                    <p style="font-size: 13px;">
                        آخرین به روز رسانی در اکتبر 13, 2025.
                    </p>
                <p style="font-size: 13px;">
                    
                        ساخته شده به وسیله <a href="http://sphinx-doc.org/">Sphinx</a> (4.3.2) و <a href="https://github.com/saeiddrv/SphinxMinooTheme">تم مینو</a> (Beta 0.9.7).
                    
                </p>
            </div>
            <div>
                <a href="https://pdcommunity.ir/license/cc-by-sa/">
                    <img style="max-width: unset;" src="/_static/cc-by-sa.svg">
                </a>
            </div>
        </div>
			        </div>
			    </div>
                            
                        </div>
                </div>
            </div>
            <span class="back-to-top">
                <i class="fa fa-arrow-circle-up"></i>
            </span>
        </div>
    </body>
</html>