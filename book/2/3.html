

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fa" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fa" > <!--<![endif]-->
<html dir="rtl" lang="fa">
    <head>
        
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    
         <title>شمردن تعداد درخت ها &mdash; نظریه گراف‌ها برای المپیاد کامپیوتر</title>
    




    

    <link rel="stylesheet" type=text/css href="/_static/main.css">

    <link rel="stylesheet" type=text/css href="../../_static/pygments.css">

    <link rel="stylesheet" type=text/css href="../../_static/minoo-rtl.css">



<link rel="stylesheet" type=text/css href="../../_static/font-awesome.min.css">
<link rel="stylesheet" type=text/css href="../../_static/bootstrap.min.css">
<link rel="stylesheet" type=text/css href="../../_static/pygment-solarized-light.css">


    <link rel="stylesheet" type=text/css href="../../_static/minoo-rtl.css">

        <link rel="index" title="فهرست" href="../../genindex.html" />
        <link rel="search" title="جستجو" href="../../search.html" />
        <link rel="top" title="نظریه گراف‌ها برای المپیاد کامپیوتر" href="../../index.html" />
        <link rel="up" title="درخت ها" href="index.html" />
        <link rel="next" title="DFS" href="4.html" />
        <link rel="prev" title="فاصله در درخت و گراف" href="2.html" />



    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>

    
        <script type="text/javascript" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script type="text/javascript" src="../../None"></script>
        <script type="text/javascript" src="../../_static/searchtools.js"></script>


<script type="text/javascript" src="../../_static/minoo.js"></script>
<script type="text/javascript" src="../../_static/modernizr.min.js"></script>
<style>
    * {
        border-radius: 1rem;
    }
</style>
    </head>
    <body>
        <div id="page">
            <div id="wrapper-page-sidebar">
                

<div id="page-sidebar">
<div id="sidebar-top">
    <div id="sidebar-top-image">
        <span style="background-image: url('../../_static/avatar.png');"></span>
    </div>
    <div id="sidebar-top-links">
        
            <a href=http://git.coderz.ir target="_blank"><i class="fa fa-globe" style="font-size:23px;"></i></a>
        
        
        
        
        
        
            <a href=https://github.com/dariubs/git target="_blank"><i class="fa fa-github-square" style="font-size:23px;"></i></a>
        
        
    </div>
    <div id="sidebar-navigation">
        <span id="navigation-toggle"><i class="fa  fa-angle-double-left " id="sidebar-toggle-icon" style="font-size: 27px;"></i></span>
        <span id="navigation-search">
                <form action="../../search.html" method="get">
                    <input id="input-search" type="text" name="q"  placeholder="جستجو">
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
        </span>
    </div>
    <div id="sidebar-top-title">
        <a href="../../index.html">نظریه گراف‌ها برای المپیاد کامپیوتر</a>
    </div>
</div>

<div id="wrapper-sidebar-bottom">
<div id="sidebar-bottom">
    <div id="sidebar-bottom-list">
        
        
            <div id="tree-toc">
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../1/index.html">تعاریف اولیه</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../1/1.html">مقدمات و مدل سازی با گراف</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/2.html">انواع گراف</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/3.html">پیاده سازی گراف</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/4.html">گشت، گذر، مسیر، اکسترمال</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/5.html">زیرگراف ها</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/6.html">همبندی، یال برشی و راس برشی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1/7.html">گراف دو بخشی</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">درخت ها</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1.html">خاصیت های مقدماتی</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.html">فاصله در درخت و گراف</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">شمردن تعداد درخت ها</a></li>
<li class="toctree-l2"><a class="reference internal" href="4.html">DFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="5.html">BFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="6.html">الگوریتم پیدا کردن قطر درخت</a></li>
<li class="toctree-l2"><a class="reference internal" href="7.html">DFS Start/Finish Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="8.html">الگوریتم های راس و یال برشی</a></li>
<li class="toctree-l2"><a class="reference internal" href="9.html">کارگاه پرورش ایده</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../3/index.html">گراف جهت‌دار</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../3/1.html">تعاریف</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/2.html">تورنومنت</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/3.html">گراف جهت‌دار بدون دور</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/4.html">مولفه‌های قویا همبند</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/5.html">تشخیص دور داشتن گراف جهت دار</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/6.html">بازی‌ها و گراف جهت‌دار</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/7.html">گراف تابعی و گراف‌جایگشت</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../4/index.html">تکنیک های اثبات مسائل گراف</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../4/1.html">انتخاب های اکسترمالی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4/2.html">منقبض کردن</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4/3.html">گراف و جادو</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../5/index.html">تور اویلری و دور همیلتونی</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../5/1.html">معرفی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/2.html">تور اویلری در گراف جهت دار و بی جهت</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/3.html">De Bruijn sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/4.html">قضیه های وجودی دور همیلتونی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/5.html">الگوریتم های نمایی پیدا کردن دور و مسیر همیلتونی</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../6/index.html">الگوریتم های کوتاه ترین مسیر</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../6/1.html">بلمن فورد</a></li>
<li class="toctree-l2"><a class="reference internal" href="../6/2.html">دکسترا</a></li>
<li class="toctree-l2"><a class="reference internal" href="../6/3.html">فلوید وارشال</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../7/index.html">ماتریس ها</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../7/1.html">ماتریس و عملیات های روی آن</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/2.html">دترمینان ماتریس ها</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/3.html">ماتریس وقوع</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/4.html">ماتریس مجاورت</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/5.html">تعداد گشت ها به طول n</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/6.html">به دست آوردن توابع بازگشتی به کمک گراف و ماتریس</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../8/index.html">داده ساختار های درختی</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../8/1.html">درخت دودویی (Binary Tree)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/2.html">درخت جست و جوی دودویی (BST یا Binary Search Tree)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/3.html">Heap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/4.html">DSU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/5.html">Segment Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/6.html">Trie</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../9/index.html">مسائل np و np کامل</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../9/1.html">تعریف np و np کامل</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9/2.html">اثبات np کامل بودن مساله sat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9/3.html">مسائل np کامل گراف</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../10/index.html">Lca</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../10/1.html">شرح مساله</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/2.html">راه حل O(n+q*lg(n)) به کمک جداسازی سبک-سنگین</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/3.html">الگوریتم برون‌خط تارجان</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/4.html">ارتباط LCA و RMQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/5.html">راه خطی برای LCA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/6.html">درخت مجازی</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../11/index.html">الگوریتم های پیشرفته درخت</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../11/1.html">درخت پوشای کمینه</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/2.html">گونی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/3.html">سنتروید</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/4.html">هافمن کدینگ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/5.html">هش درخت</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/6.html">تجزیه سبک سنگین(HLD)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../12/index.html">همبندی</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../12/1.html">برش ها و همبندی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/2.html">گراف k همبند</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/3.html">برش کمینه و جریان بیشینه</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../13/index.html">تطابق</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../13/1.html">آشنایی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/2.html">تطابق در گراف دوبخشی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/3.html">قضایا ی مینماکس</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/4.html">کاربرد ها</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/5.html">جریان بیشینه و تطابق</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/6.html">Poset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/7.html">تطابق در گراف های عام</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../14/index.html">مباحث ویژه</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../14/1.html">گراف مسطح</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/2.html">دنباله درجه ای</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/3.html">رنگ آمیزی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/4.html">یک ریختی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/5.html">Random Walk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/6.html">اعداد رمزی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/7.html">مجموعه مستقل و خوشه</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/8.html">2-SAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/9.html">چند ماتریس خاص</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">ضمیمه</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/1.html">چگونه از این کتاب استفاده کنیم؟</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/2.html">آشنایی با الگوریتم ها و پیچیدگی</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/3.html">برگه تقلب (Cheat sheet)</a></li>
</ul>
</li>
</ul>

            </div>
        
   </div>
   <div id="sidebar-bottom-versions">
      

   </div>
</div>
</div>
</div>
            </div>
            <div id="page-body">
                <div class="container-fluid">
                        <div id="body-content" style="max-width: 800px">

                            <div class="row-fluid">
			        <div class="col-lg-12">
				    

<div id="body-top">
    
    
        <a href="../../index.html"><i class="fa fa-folder-o"></i>&nbsp; فهرست</a>&nbsp;
        <a><i class="fa  fa-angle-left"></i></a>&nbsp;
        <a><i class="fa fa-folder-open-o"></i>&nbsp; شمردن تعداد درخت ها</a>
    
    
        <a style="float: left; padding-right: 20px;" href="/problems/" id="problems-link"><i class="fa fa-question on fa-circle"></i>&nbsp;سوالات</a>
        <script>document.getElementById('problems-link').href=`/problems/${window.location.pathname.slice(6).replace('/','.')}.html`.replace('.html.html', '.html').replace('/.html', '/').replace('.index.html', '.html');</script>
        <a style="float: left; padding-right: 20px;" href="/en/" id="lang-link"><i class="fa fa-language on fa-circle"></i>&nbsp;Change Language (English)</a>
        <script>document.getElementById('lang-link').href=`/en${window.location.pathname}`;</script>
        
            <a href="../../_sources/book/2/3.rst.txt" rel="nofollow" id="top-src" target="_blank"><i class="fa fa-code"></i>&nbsp; سورس</a>
        
    
</div>
			        </div>
			    </div>
                            
                            <div class="row-fluid">
			        <div class="col-lg-12">
				    
  <section id="id1">
<h1>شمردن تعداد درخت ها<a class="headerlink" href="#id1" title="پیوند ثابت به این سر مقاله">¶</a></h1>
<p>شمردن تعداد درخت های <span class="math notranslate nohighlight">\(n\)</span> راسی یکی از مسائل بسیار جذاب ترکیبیات هستند و راه های متنوع و خلاقانه ای برای آن وجود دارد. در این قسمت موضوع بحث درخت هایی با راس های برچسب دار هستند. (می توانید آنها را به صورت تعداد زیردرخت های فراگیر گراف <span class="math notranslate nohighlight">\(K_n\)</span> در نظر بگیرید). در واقع به چندین روش اثبات خواهیم کرد که تعداد درخت های <span class="math notranslate nohighlight">\(n\)</span> راسی برابر با <span class="math notranslate nohighlight">\(n^{n-2}\)</span> است. قبل از خواندن راه حل هر بخش راهنمایی ها را بخوانید و سعی کنید خودتان راه حلی ارائه دهید.</p>
<section id="id2">
<h2>شمردن با دنباله درجه ای<a class="headerlink" href="#id2" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<section id="id3">
<h3>راهنمایی<a class="headerlink" href="#id3" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>رابطه ای ارائه دهید که تعداد درخت های با دنباله درجه ای <span class="math notranslate nohighlight">\(d_1, d_2, ..., d_n\)</span> را بشمارد. برای اثبات این رابطه به صورت استقرایی برگ حذف می کنیم!</p>
</section>
<section id="id4">
<h3>حل<a class="headerlink" href="#id4" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>رابطه مورد نظر برابر است با
<span class="math notranslate nohighlight">\(\frac {(n-2)!} {(d_1-1)! \times (d_2-1)! \times ... (d_n-1)!}\)</span>
. توجه کنید که
<span class="math notranslate nohighlight">\(\sum d_i-1\)</span>
برابر با همان <span class="math notranslate nohighlight">\(n-2\)</span> است پس عبارت بالا در واقع یک ترکیب با تکرار است!</p>
<p>برای اثبات رابطه از استقرا روی <span class="math notranslate nohighlight">\(n\)</span> استفاده کنید. به عنوان پایه در نظر داشته باشید که به ازای <span class="math notranslate nohighlight">\(n \leq 2\)</span> رابطه برقرار است. حالا کافیست تنها یک برگ خاص را در نظر بگیرید (راسی مثل <span class="math notranslate nohighlight">\(u\)</span> که <span class="math notranslate nohighlight">\(d_u = 1\)</span> است). سپس حالت بندی کنید که تنها مجاور این راس چه راسی باشد.‌ اگر تنها مجاور راس <span class="math notranslate nohighlight">\(u\)</span> راس <span class="math notranslate nohighlight">\(v\)</span> باشد (توجه کنید چون <span class="math notranslate nohighlight">\(n &gt; 2\)</span> می توان نتیجه گرفت <span class="math notranslate nohighlight">\(v\)</span> نباید برگ باشد) آنگاه تعداد درخت های ممکن در این حالت برابر است با
<span class="math notranslate nohighlight">\(\frac {(n-2)!} {(d_1-1)! \times (d_2-1)! \times ... (d_v-2)! (d_n-1)!}\)</span>
. همانطور که گفتیم عبارت بالا شبیه به یک ترکیب با تکرار است. طبق اتحاد تعمیم اتحاد پاسکال جمع عبارات (بعد از حالت بندی ها) برابر با
<span class="math notranslate nohighlight">\(\frac {(n-2)!} {(d_1-1)! \times (d_2-1)! \times ... (d_n-1)!}\)</span>
خواهد شد. همانطور که می خواستیم.</p>
<p>حالا توجه کنید که عبارت بالا در واقع تعداد رشته های متفاوتی را می شمارد که از حرف <span class="math notranslate nohighlight">\(i\)</span> به تعداد <span class="math notranslate nohighlight">\(d_i-1\)</span> بار در آن آمده است. پس مثل این است که هر درخت را به یک دنباله <span class="math notranslate nohighlight">\(n-2\)</span> تایی از اعداد <span class="math notranslate nohighlight">\(1\)</span> تا <span class="math notranslate nohighlight">\(n\)</span> نسبت دادیم. پس اگر به ازای همه <span class="math notranslate nohighlight">\(d_1,d_2,...,d_n\)</span> های ممکن عبارت را جمع کنیم حاصل برابر با <span class="math notranslate nohighlight">\(n^{n-2}\)</span> خواهد شد که تعداد کل درخت های متفاوت <span class="math notranslate nohighlight">\(n\)</span> راسی است.</p>
</section>
</section>
<section id="id5">
<h2>کد پروفر<a class="headerlink" href="#id5" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<section id="id6">
<h3>راهنمایی<a class="headerlink" href="#id6" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>تناظری یک به یک از درخت های <span class="math notranslate nohighlight">\(n\)</span> راسی به دنباله های <span class="math notranslate nohighlight">\(n-2\)</span> تایی از اعداد <span class="math notranslate nohighlight">\(1\)</span> تا <span class="math notranslate nohighlight">\(n\)</span> ایجاد می کنیم.</p>
</section>
<section id="id7">
<h3>حل<a class="headerlink" href="#id7" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>تابع تناظر ما به اینصورت عمل می کند که در ابتدا درخت <span class="math notranslate nohighlight">\(T\)</span> را در نظر می گیریم و تا زمانی که تعداد راس های آن بیشتر از 2 است هر بار برگ <span class="math notranslate nohighlight">\(u\)</span> که برچسب آن کمینه است را حذف می کنیم. سپس برچسب تنها راس مجاور <span class="math notranslate nohighlight">\(u\)</span> را در روی کاغذ می نویسیم. در انتها <span class="math notranslate nohighlight">\(n-2\)</span> عددی که روی کاغذ نوشتیم را به ترتیب نوشتن در نظر بگیرید. آن ها دنباله <span class="math notranslate nohighlight">\(n-2\)</span> ما را تشکیل می دهند.</p>
<p>برای اثبات یک به یک بودن تناظر باید ثابت کنیم هر دنباله <span class="math notranslate nohighlight">\(n-2\)</span> تایی از اعداد <span class="math notranslate nohighlight">\(1\)</span> تا <span class="math notranslate nohighlight">\(n\)</span> به صورت یکتایی به درخت های <span class="math notranslate nohighlight">\(n\)</span> راسی متناظر شده اند. دنباله <span class="math notranslate nohighlight">\(s_1,s_2,...,s_{n-2}\)</span> را در نظر بگیرید. می خواهیم درختی که به آن تناظر داده شده است را پیدا کنیم.</p>
<p>اول از همه توجه کنید که در فرایند تناظر دادن ما راس <span class="math notranslate nohighlight">\(i\)</span> دقیقا <span class="math notranslate nohighlight">\(d_i-1\)</span> بار در رشته ظاهر شده است(چرا؟).</p>
<p>پس اعدادی که در بین <span class="math notranslate nohighlight">\(s_1,s_2,...,s_{n-2}\)</span> ظاهر نشده اند باید برگ های درخت باشند. در فرایند تناظر در اولین گام برگی که برچسب آن کمینه بود را حذف کردیم. پس کمترین عددی که در بین <span class="math notranslate nohighlight">\(s_1,s_2,...,s_{n-2}\)</span> ظاهر نشده است را <span class="math notranslate nohighlight">\(u\)</span> بنامید. ابتدا باید <span class="math notranslate nohighlight">\(u\)</span> حذف شده باشد و تنها مجاور <span class="math notranslate nohighlight">\(u\)</span> راس <span class="math notranslate nohighlight">\(s_1\)</span> می باشد. حالا به صورت استقرایی می توان درخت متناظر با <span class="math notranslate nohighlight">\(s_2,...,s_{n-2}\)</span> را به صورت یافت. سپس یال بین <span class="math notranslate nohighlight">\(u,s_1\)</span> را به درخت اضافه می کنیم و درخت متناظر با <span class="math notranslate nohighlight">\(s_1,s_2,...,s_{n-2}\)</span> به دست خواهد آمد.</p>
</section>
</section>
<section id="id8">
<h2>تناظر به گراف تابعی<a class="headerlink" href="#id8" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<section id="id9">
<h3>راهنمایی<a class="headerlink" href="#id9" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>درخت دو رنگ را درختی تعریف می کنیم که راس <span class="math notranslate nohighlight">\(A\)</span> در آن به رنگ آبی در آمده و رنگ <span class="math notranslate nohighlight">\(B\)</span> به رنگ قرمز (حتی ممکن است <span class="math notranslate nohighlight">\(A, B\)</span> یک راس باشند).</p>
<p>واضح است که به ازای هر درخت <span class="math notranslate nohighlight">\(n\)</span> راسی دقیقا <span class="math notranslate nohighlight">\(n^2\)</span> درخت دورنگ داریم پس اگر <span class="math notranslate nohighlight">\(c\)</span> تا درخت <span class="math notranslate nohighlight">\(n\)</span> راسی داشته باشیم آنگاه <span class="math notranslate nohighlight">\(c \times n^2\)</span> تا درخت دورنگ <span class="math notranslate nohighlight">\(n\)</span> راسی داریم.</p>
<p>در این قسمت تناظری یک به یک بین گراف های تابعی <span class="math notranslate nohighlight">\(n\)</span> راسی (که تعداد آن ها <span class="math notranslate nohighlight">\(n^n\)</span> تا است) و درخت های دو رنگ ایجاد می کنیم.</p>
</section>
<section id="id10">
<h3>حل<a class="headerlink" href="#id10" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>گراف تابعی را در نظر بگیرید. همانطور که می دانید در هر گراف تابعی از هر مولفه همبندی (در گراف زمینه) از یک دور جهت دار تشکیل شده است که از هر راس آن یک درخت آویزان است. شهودا برای تبدیل این گراف تابعی به درخت کافیست یک یال از هر دور را حذف کنیم سپس مولفه های همبندی گراف تابعی را به هم وصل کنیم تا تبدیل به درخت شود اما باید طوری این فرایند را انجام دهیم که تناظر یک به یک باشد و بتوان از روی درخت دو رنگ فهمید کدام یال حذف شده است!</p>
<p>فرض کنید به ازای هر مولفه همبندی گراف تابعی (در گراف زمینه) کمترین برچسب در دور آن را زیبایی مولفه می نامیم و راسی که این برچسب کمینه را دارد راس زیبای مولفه بنامید. حالا برای تناظر فرایند زیر را انجام دهید.</p>
<ul class="simple">
<li><p>مولفه ها طوری چپ به راس مرتب کنید که زیبایی مولفه ها از چپ به راست <strong>نزولی</strong> باشد.</p></li>
<li><p>در هر کدام از مولفه ها فرض کنید دور آن <span class="math notranslate nohighlight">\(p_1,p_2,...,p_k\)</span> باشد به طوریکه <span class="math notranslate nohighlight">\(p_1\)</span> راس زیبای مولفه باشد. ابتدا یال <span class="math notranslate nohighlight">\(p_kp_1\)</span> را حذف کنید. سپس <span class="math notranslate nohighlight">\(p_k\)</span> را به راس زیبای مولفه بعدی (در سمت راست) وصل کنید.</p></li>
<li><p>راس <span class="math notranslate nohighlight">\(p_1\)</span> در چپ ترین مولفه را آبی کنید و راس <span class="math notranslate nohighlight">\(p_k\)</span> در راست ترین مولفه را قرمز کنید. سپس جهت دهی یال ها را از بین ببرید.</p></li>
</ul>
<p>به این صورت از گراف تابعی که داشتیم یک درخت دو رنگ ساختیم.</p>
<p>چرا زیبایی مولفه را <strong>کوچکترین</strong> راس دور تعریف کردیم و چرا مولفه ها را طوری مرتب کردیم که زیبایی ها <strong>نزولی</strong> باشد؟ دلیل این کار تنها این بود که مسیر راس آبی به قرمز این ویژگی را داشته باشد که به آن ویژگی جذاب می گوییم.</p>
<p><strong>ویژگی جذاب</strong> : ابتدا توجه کنید که هر کدام از دور های گراف تابعی در واقع الان یک بازه از مسیر بین راس آبی و قرمز هستند. از راس آبی شروع کنید و به سمت راس قرمز بروید و برچسب ها را نگاه کنید. فرض کنید الان روی راس <span class="math notranslate nohighlight">\(u\)</span> هستیم و کمترین برچسبی که قبل از <span class="math notranslate nohighlight">\(u\)</span> در طول مسیر دیده ایم <span class="math notranslate nohighlight">\(X\)</span> باشد. اگر <span class="math notranslate nohighlight">\(u&lt;X\)</span> باشد (یا به عبارتی <span class="math notranslate nohighlight">\(X\)</span> بعد از این مرحله کم شود) به این معنی است که وارد راسی شدیم که متعلق به یک دور دیگر (از گراف تابعی) بوده است(چرا؟)!</p>
<p>برای اینکه ثابت کنیم تناظر برگشت پذیر است باید از روی یک درخت دو رنگ بتوانیم به صورت یکتا گراف تابعی را بسازیم.</p>
<p>همانطور که گفتیم راس آبی را <span class="math notranslate nohighlight">\(A\)</span> در نظر بگیرید و راس قرمز را <span class="math notranslate nohighlight">\(B\)</span> در نظر بگیرید.</p>
<p>مراحل تناظر را یکی یکی به عقب بر می گردانیم تا به گراف تابعی برسیم. اول از همه درخت را از مسیر <span class="math notranslate nohighlight">\(A\)</span> به <span class="math notranslate nohighlight">\(B\)</span> آویزان کنید. راس <span class="math notranslate nohighlight">\(A\)</span> را در سمت چپ در نظر بگیرید و راس <span class="math notranslate nohighlight">\(B\)</span> را در سمت راست در نظر بگیرید.</p>
<ul class="simple">
<li><p>مسیر <span class="math notranslate nohighlight">\(AB\)</span> باید از چپ به راست جهت دهی شده باشد.</p></li>
<li><p>سپس تمام درخت هایی که از رئوس مسیر <span class="math notranslate nohighlight">\(AB\)</span> آویزان شده اند باید از پایین به بالا جهت دهی شده باشند (هر راس به پدرش یال دارد).</p></li>
<li><p>در اینجا از <strong>ویژگی جذاب</strong> که در بالا گفتیم استفاده می کنیم. با طی کردن مسیر از <span class="math notranslate nohighlight">\(A\)</span> به <span class="math notranslate nohighlight">\(B\)</span> می توانیم مسیر را به بازه هایی افراز کنیم که قبلا (در گراف تابعی) متعلق به یک مولفه بوده اند. حالا می دانیم که هر کدام از بازه ها قبلا یک دور بوده اند که راس های آن به ترتیب <span class="math notranslate nohighlight">\(p_1,...,p_k\)</span> بوده اند و یال <span class="math notranslate nohighlight">\(p_kp_1\)</span> حذف شده است. پس کافیست یک یال از راس آخر بازه (که همان <span class="math notranslate nohighlight">\(p_k\)</span> است) به راس اول بازه (که همان <span class="math notranslate nohighlight">\(p_1\)</span> است) بکشیم.</p></li>
</ul>
<p>پس توانستیم با معکوس تابع تناظر از هر درخت دو رنگ به یک گراف تابعی برسیم. پس توانستیم یک به یک بودن تناظر را ثابت کنیم.</p>
</section>
</section>
<section id="id11">
<h2>شمردن انشعاب ها<a class="headerlink" href="#id11" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<section id="id12">
<h3>راهنمایی<a class="headerlink" href="#id12" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>سعی می کنیم تعداد انشعاب ها (درخت های ریشه دار که هر راس به جز ریشه به پدرش یال جهت دار دارد) بشماریم همچینین فرض کنید یال های درخت هم دارای ترتیب هستند یعنی جایگشتی <span class="math notranslate nohighlight">\(n-1\)</span> تایی روی یال های درخت نوشته ایم.</p>
<p>در اینصورت اگر تعداد انشعاب هایی که شمردیم (با احتساب ترتیب یال ها) برابر با <span class="math notranslate nohighlight">\(T\)</span> باشد آنگاه تعداد درخت ها برابر با <span class="math notranslate nohighlight">\(\frac {T} {(n-1)! \times n}\)</span> خواهد بود. به عبارتی هر درخت را <span class="math notranslate nohighlight">\((n-1)! \times n\)</span> بار می شماریم. ضریب <span class="math notranslate nohighlight">\(n\)</span> به خاطر حالت بندی روی ریشه درخت است و <span class="math notranslate nohighlight">\((n-1)!\)</span> به خاطر حالت بندی روی جایگشت نوشته شده روی یال های درخت می باشد.</p>
</section>
<section id="id13">
<h3>حل<a class="headerlink" href="#id13" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<p>سعی می کنیم <span class="math notranslate nohighlight">\(T\)</span> را محاسبه کنیم. یک انشعاب خاص را در نظر بگیرید و فرایند ساختن آن را به شکل زیر در نظر بگیرید‌ :</p>
<ul class="simple">
<li><p>ابتدا گرافی <span class="math notranslate nohighlight">\(n\)</span> راسی و بدون یال در نظر بگیرید. یال ها را یکی یکی اضافه می کنیم. پس در هر مرحله تعدادی درخت جهت دار خواهیم داشت.</p></li>
<li><p>در مرحله <span class="math notranslate nohighlight">\(i\)</span> ام یالی که روی آن عدد <span class="math notranslate nohighlight">\(i\)</span> نوشته شده را در نظر بگیرید. فرض کنید <span class="math notranslate nohighlight">\(uv\)</span> باشد.</p></li>
<li><p>در اینصورت لازم و کافی است که در هر مرحله <span class="math notranslate nohighlight">\(u, v\)</span> مربوط به دو مولفه متفاوت باشند و همچنین <span class="math notranslate nohighlight">\(v\)</span> راسی باشد که ریشه یکی از درخت های جهت دار ما است.</p></li>
</ul>
<p>برای شمردن تعداد انشعاب های ممکن کافی است بفهمیم فرایند ساختن انشعاب چند حالت مختلف می تواند داشته باشد.</p>
<p>در شروع مرحله <span class="math notranslate nohighlight">\(i\)</span> (با شمارش از 1) دقیقا <span class="math notranslate nohighlight">\(n-i+1\)</span> درخت ریشه دار داریم. اگر روی <span class="math notranslate nohighlight">\(u\)</span> حالت بندی کنید (که <span class="math notranslate nohighlight">\(n\)</span> حالت دارد) برای انتخاب <span class="math notranslate nohighlight">\(v\)</span> دقیقا <span class="math notranslate nohighlight">\(n-i\)</span> حالت داریم زیرا که <span class="math notranslate nohighlight">\(v\)</span> باید ریشه یکی از درخت ها باشد و نباید ریشه درختی باشد که <span class="math notranslate nohighlight">\(u\)</span> در آن است. بنابراین مرحله <span class="math notranslate nohighlight">\(i\)</span> ام فرایند ساختن گراف <span class="math notranslate nohighlight">\(n \times (n-i)\)</span> حالت دارد. پس در نهایت داریم
<span class="math notranslate nohighlight">\(T = n^{n-1} * (n-1)!\)</span></p>
<p>پس همانطور که گفتیم تعداد درخت ها باید برابر با <span class="math notranslate nohighlight">\(\frac {T} {(n-1)! \times n}\)</span> باشد که همان <span class="math notranslate nohighlight">\(n^{n-2}\)</span> است. همانطور که می خواستیم!</p>
</section>
</section>
</section>


			        </div>
			    </div>

                            <div class="row-fluid">
			        <div class="col-lg-12">
				    

        
            <div id="body-btn">
                
                    
                    <a href="2.html" style="float:right;" title="فاصله در درخت و گراف" accesskey="p"><i class="fa fa-chevron-right"></i>&nbsp; قبلی</a>
                    
                    
                    <a href="4.html" style="float:left;" title="DFS" accesskey="n">بعدی &nbsp;<i class="fa fa-chevron-left"></i></a>
                    
                
            </div>
        


        <div id="body-footer">
            <div>
                <a href="https://shaazzz.ir/">
                    <img style="max-width: unset;"  src="/_static/shaazzz_logo.png">
                </a>
            </div>
            <div id="text">
                <p>
                    این کتاب توسط 
                    <a href="/contributors">
                    مشارکت کنندگان شاززز
                    </a>
                    به وجود آمده است.
                </p>
                <p>
                    این کتاب عمومی است و تحت
                    <a href="https://pdcommunity.ir/license/cc-by-sa/">
                        پروانه cc-by-sa
                    </a>
                    در دسترس است.
                </p>
                    <p style="font-size: 13px;">
                        آخرین به روز رسانی در اکتبر 13, 2025.
                    </p>
                <p style="font-size: 13px;">
                    
                        ساخته شده به وسیله <a href="http://sphinx-doc.org/">Sphinx</a> (4.3.2) و <a href="https://github.com/saeiddrv/SphinxMinooTheme">تم مینو</a> (Beta 0.9.7).
                    
                </p>
            </div>
            <div>
                <a href="https://pdcommunity.ir/license/cc-by-sa/">
                    <img style="max-width: unset;" src="/_static/cc-by-sa.svg">
                </a>
            </div>
        </div>
			        </div>
			    </div>
                            
                        </div>
                </div>
            </div>
            <span class="back-to-top">
                <i class="fa fa-arrow-circle-up"></i>
            </span>
        </div>
    </body>
</html>